<!-- src/gittxt_api/ui/templates/index.html -->
<!DOCTYPE html>
<html>
<head>
  <title>Gittxt Repo Scanner</title>
  <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
  <div class="container">
    <h1>📦 Gittxt Repo Scanner</h1>

    <!-- PHASE 1: Initial Scan -->
    <form id="initialForm">
      <label>📁 GitHub Repo URL:</label>
      <input type="text" name="repo_url" id="repo_url" required placeholder="https://github.com/user/repo" />

      <button type="submit" id="startScan">🔍 Start Scan</button>
    </form>

    <!-- Scan Status -->
    <div id="status" class="status-box"></div>

    <!-- Phase 1 Summary -->
    <div id="summarySection" class="hidden">
      <h3>🧾 Initial Scan Summary</h3>
      <div id="summaryOutput"></div>

      <h4>📝 Preview (TXT format)</h4>
      <pre id="filePreview">Loading preview...</pre>
    </div>

    <!-- PHASE 2: Filters and Format Selection -->
    <form id="filterForm" class="hidden">
      <h3>🎛️ Apply Output Filters</h3>

      <label>📤 Output Formats:</label>
      <div class="checkbox-group">
        <label><input type="checkbox" name="output_format" value="txt" checked> TXT</label>
        <label><input type="checkbox" name="output_format" value="json"> JSON</label>
        <label><input type="checkbox" name="output_format" value="md"> Markdown</label>
      </div>

      <label><input type="checkbox" name="lite_mode" checked> Lite Mode</label>
      <label><input type="checkbox" name="create_zip" checked> Create ZIP Bundle</label>

      <label>🔍 Include Patterns (comma-separated):</label>
      <textarea name="include_patterns" placeholder="e.g., *.py, *.md"></textarea>

      <label>🚫 Exclude Patterns (comma-separated):</label>
      <textarea name="exclude_patterns" placeholder="e.g., *.test.js, docs/"></textarea>

      <label>🌲 Tree Depth (optional):</label>
      <input type="number" name="tree_depth" min="1" />

      <label>📏 Size Limit (bytes, optional):</label>
      <input type="number" name="size_limit" min="1" />

      <button type="submit" id="applyFilters">🔁 Apply Filters</button>
    </form>

    <!-- Final result -->
    <div id="result" class="hidden"></div>
  </div>

  <script src="/static/app.js"></script>
</body>
</html>
